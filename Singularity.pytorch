Bootstrap: docker
From: nvidia/cuda:9.1-cudnn7-runtime

%help
  This recipe builds a singularity container from an Nividia Docker container for the PyTorch neural network framework.

%post
  # in-container bind points for shared filesystems
  mkdir -p /extra /rsgrps /xdisk /uaopt /cm/shared /cm/local
  # apt-get -y update
  # apt-get install python3-pip
  pip install torch torchvision torchtext
  pip install tqdm scikit-learn
